<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Assignment 3 - CSC358H5 Winter 2021</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Assignment 3 of CSC358H5 Winter 2020">
    <meta name="author" content="Larry Yueli Zhang">
    <!-- Le styles -->
    <link href="static/css/bootstrap.min.css" rel="stylesheet">
    <link href="static/css/style.css?v=190119" rel="stylesheet">

    <!-- Fallback for NoScript -->
    <noscript>
        <style type="text/css">
            body {
                display: block;
            }
        </style>
    </noscript>

    <!-- Le HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js">
      </script>
    <![endif]-->
    <script>
        (function(i, s, o, g, r, a, m) {
            i['GoogleAnalyticsObject'] = r;
            i[r] = i[r] || function() {
                (i[r].q = i[r].q || []).push(arguments)
            }, i[r].l = 1 * new Date();
            a = s.createElement(o),
                m = s.getElementsByTagName(o)[0];
            a.async = 1;
            a.src = g;
            m.parentNode.insertBefore(a, m)
        })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');

        ga('create', 'UA-22411948-1', 'toronto.edu');
        ga('require', 'displayfeatures');
        ga('send', 'pageview');
    </script>
</head>

<body class="assignment3-body">

    <div class="assignment-content">
        <h1>Assignment 3: Routing Algorithm</h1>
        <h2>Due: Friday, March 26, 2021, 11:59 PM. In groups of up to 2 students</h2>

        <div class="space"></div>

        <h3>Overview</h3>

		<p>In this assignment, you will implement a distributed,
		asynchronous, distance-vector routing algorithm based on the
		Bellman-Ford algorithm that we learned in the lecture.</p>

		<p>The network is modelled as an undirected graph with a certain number
		of nodes. Each link in the graph is associated with a positive integer
		cost. Below is a simple example of a graph with 3 nodes and 3 links.
		The nodes in the graph would, in a distributed and asynchronous manner,
		send each other messages containing information about their distance
		vectors, and, when receiving a message from another node, update their
		distance vectors accordingly. The expected outcome of the routing
		algorithm is that each node keeps a distance vector that stores its
		shortest-path distances (lowest costs) to other nodes in the graph, and
		knows how to find the shortest path to every other node.
		</p>

		<p style="text-align:center;"><img width="40%"
		src="files/a3network.png" /></p>

        <div class="space"></div>
        <h3>Understanding the Starter Code</h3>

		<p>Download the starter code which includes two files: <b><a
			 href="files/dvsim.py">dvsim.py</a></b> and <b><a
	href="files/dvnode.py">dvnode.py</a></b>. Below is an overview of these two
	files.</p>

		<p><code>dvsim.py</code> is the main simulator code which implements a
		simulated environment of the distributed, asynchronous route computing
		process. It initializes the topology (the nodes and the links with
		costs) of the input graph and provided class definitions such as
		<code>Packet</code>, <code>Event</code> and <code>EventList</code>. The
		implementation in this file is given to you and you won't need to
		change it much (and you won't submit it to MarkUs); however, you need
		read it carefully and understand thoroughly what it does and how it is
		related to the <code>Node</code> class defined in
		<code>dvnode.py</code>. You only need to modify this file when you try
		to create different test cases for your algorithm. Below are the things
		that you may need to modify.</p> 

		<ul class="bullet-list">
			<li><code>NUM_NODES</code>: this is the number of nodes in the
				graph. You may change it according to the size of the graph
				that you want to test on.</li>

			<li>The <code>generate_topology()</code> method in
				<code>Simulator</code>: this is the method that manually
				assigns the costs of the links in the graph. You may change it
			whichever graph topology that you'd like to test. Make sure the
			size of the graph is consistent with what indicated by
			<code>NUM_NODES</code>.</li>

			<li>The <code>generate_random_topology()</code> generates graph
				randomly given <code>NUM_NODES</code>. You use this to generate
				test cases automatically instead of manually.</li>

			<li>The <code>if link_changes</code> block the
				<code>__init__</code> method of <code>Simulator</code> adds
				link-change events to the simulation. You may modify here to
			add more link-change events.</li>

			<li>The <code>generate_link_change()</code> method specifies what
				exactly happens in the link-change event: which link's cost
				changes and what's the new cost of the link. You may modify
			this method in order to create the test case you need.</li>

			<li>Other than the above places, you should avoid modifying any
				other parts of <code>dvsim.py</code>. Since you will NOT submit
				your own <code>dvsim.py</code>, you need to make sure your
				submitted code works correct with the original
			<code>dvsim.py</code>.</li>
		</ul>

		<p><code>dvnode.py</code> is the file that you will work on completing.
		This file defines the <code>Node</code> class for each node in the
		network. You will implement the following methods:
		</p>
		<ul class="bullet-list">
			<li><code>__init__()</code>: the constructor of the
				<code>Node</code> class. You will initialized the
				<code>dist_table</code> which keeps the distance vectors as
				well as the <code>predecessors</code> list that will store the
				predecessors of the node in its shortest paths to every other
				nodes. The node may also want to start sending some packets to
				their neighbours.</li>

			<li><code>update()</code>: this method is called when the node
				receives a packet from another node. You'll need to update the
				distance table and the predecessor list accordingly, and notify
				the node's neighbours about the update when necessary.</li>

			<li><code>link_cost_change_handler()</code>: this method is invoked
				when a link-change event occurs. The cost of a link would
				change and the node need to update its distance table and
			predecessor list accordingly, and notify the node's neighbours when
			necessary.</li>

			<li>You are allowed to add additional helper methods to the
				<code>Node</code> class.</li>
		</ul>

		<div class="space"></div>
		<h3>Testing and Report</h3>

		<p>The command to run the simulator is the following:</p>
		<p><code>python3 dvsim.py HasLinkChange Seed</code></p> <p>where
		<code>HasLinkChange</code> (1 or 0) specifies whether or not to add
		link-change events to the simulation, and <code>Seed</code> (an
		integer) is the seed of the pseudo-random number generator.</p>

		<p>You should create various test cases to verify that your
		implementation is correct, and to observe the behaviour of the
		algorithm in different scenarios. In particular, you're required to
		write up a <code>report.pdf</code> as part of your assignment
		submission. The report should include the following parts:</p>
		<ol>
			<li>Your name and student number, and a quick summary of what's
				completed and not completed in your submission.</li>

			<li>With <code>HasLinkChange</code> set to <code>0</code> (i.e., no
				link-change events), use a test case on a graph with 5 nodes to
				convince the reader that your algorithm is working correctly.
				Add printouts for the intermediate steps to show that the
				algorithm is behaving as expected.</li>

			<li>With <code>HasLinkChange</code> set to <code>1</code>, use a
				test case on a graph with 4 nodes to demonstrate the
				"<strong>good news travels fast</strong>" behaviour of the
				routing algorithm.</li>

			<li>With <code>HasLinkChange</code> set to <code>1</code>, use a
				test case on a graph with 4 nodes to demonstrate the
				"<strong>bad news travels slowly</strong>" behaviour of the
				routing algorithm.</li>

			<li>
                Study/analyze/discuss, on a reasonably detailed level, the
				complexity of the routing algorithm in terms of the number of
				messages needed to be sent in the network. Note that the
				requirement on this part is intentionally vague and open-ended
                so that you need to think about what approach is the best for 
                studying this issue. 
            </li>
            
            <li>
                Page limit: The total length of your report should NOT exceed
                <strong>8 pages</strong>.
            </li>
		</ol>

		<div class="space"></div>
		<h3>Requirements</h3>

		<p>Below are some specific requirements just so that you know what to
		do and that your code can be properly marked by the TA. </p>

		<ol>
			<li><strong>Read the starter code thoroughly</strong>. The comments
				in the starter code contain detailed information regarding how
				the simulator works and how your code should be written. Please
				make sure to read it thoroughly and understand how exactly it
				works.</li>

			<li>Use Python 3 and make sure your code works correct on the lab
				computers.</li>

			<li>Make sure your <code>dvnode.py</code> works correctly with the
				original <code>dvsim.py</code> since your will NOT submit your
				own <code>dvsim.py</code></li>

			<li>Follow the instructions in the comments in the starter code. Do
				NOT modify the parts that are marked as "DO NOT MODIFY".</li>

			<li>Your node should only send messages when it is necessary, i.e.,
				the number of messages sent must be the minimum possible.</li>

			<li>Keep in mind that you're implementing a
				<strong>distributed</strong> algorithm, i.e., every node is
				only supposed to operate on the information stored locally and
				each node can only communicate with its immediate neighbours.
				Any violation of this principle, e.g., accessing information or
				invoking a method at other nodes, would result in significant
				deduction in marks.
            </li>
            
            <li>
                You may assume that every node has the knowledge that the
                distance value from a node to itself is always 0, regardless of
                whether the node is a neighbour or not. 
            </li>
		</ol>

		<div class="space"></div>
		<h3>Submissions</h3>

		<p> You will submit the following two files using the <strong>web
			submission interface</strong> of MarkUs.</p>
		<ol>
			<li><code>dvnode.py</code></li>
			<li><code>report.pdf</code> with the content specified in the above
				"Testing and Report" section. <strong>Presentation
					matters</strong>: your report must be presented in a clean
				and concise manner that is easy-to-understand for others.
			</li>
		</ol>

		<p> You can submit the same filename multiple times and only the latest
		version will be marked, so it is a good practice to submit your first
		version well before the deadline and then submit a newer version to
		overwrite when you make some more progress. Again, make sure your code
		runs as expected on a lab computer. </p>

		<p> Late homework submissions are penalized by 1% for every hour of
		lateness, rounded up, to a maximum of 24 hours. Submissions will no
		longer be accepted 24-hours past the deadline, except for documented
		unusual circumstances.</p>


		<div class="space"></div>
		<h3>Marking</h3>

		<p>Below is the tentative overall marking scheme of this assignment:</p>

		<ul class="bullet-list">
			<li>Correctness without link-change events: 30%</li>
			<li>Correctness with link-change events: 30%</li>
			<li>Report: 30%</li>
			<li>Coding style and documentation: 10%</li>
		</ul>

		<p><strong>Coding style matters.</strong> Your code must be written in
			a proper style and must be well commented so that anyone else can read
			your code and easily understand how everything works in your code.
		</p>

		<div class="space"></div>
		<h3>Academic Integrity</h3>

		<p><strong> Please be reminded that ALL assignment submissions will be
			checked for plagiarism at the end of the term. Make sure to
			maintain your academic integrity carefully, and protect your own
			work. It is much better to take the hit on a lower assignment mark
			(just submit something functional, even if incomplete), than
			risking much worse consequences by committing an academic offence.
		</strong></p>

    </div>
</body>

</html>
